<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            background: #0a0a0a;
            touch-action: manipulation;
            position: relative;
        }

        /* Animated Background */
        .bg-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .bg-gradient {
            position: absolute;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(ellipse at 0% 0%, rgba(255, 0, 128, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 100% 0%, rgba(255, 105, 180, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 100%, rgba(255, 20, 147, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 100% 100%, rgba(219, 39, 119, 0.15) 0%, transparent 50%);
            animation: bgPulse 8s ease-in-out infinite;
        }

        @keyframes bgPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        /* Floating Shapes */
        .shape {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            animation: shapeFloat 20s ease-in-out infinite;
        }

        .shape-1 {
            width: 400px;
            height: 400px;
            background: rgba(236, 72, 153, 0.3);
            top: -100px;
            left: -100px;
            animation-delay: 0s;
        }

        .shape-2 {
            width: 300px;
            height: 300px;
            background: rgba(244, 114, 182, 0.2);
            top: 50%;
            right: -100px;
            animation-delay: -5s;
        }

        .shape-3 {
            width: 350px;
            height: 350px;
            background: rgba(219, 39, 119, 0.25);
            bottom: -100px;
            left: 30%;
            animation-delay: -10s;
        }

        @keyframes shapeFloat {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(30px, -30px) rotate(5deg); }
            50% { transform: translate(-20px, 20px) rotate(-5deg); }
            75% { transform: translate(20px, 30px) rotate(3deg); }
        }

        /* Stars */
        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.2); }
        }

        /* Floating Hearts */
        .floating-heart {
            position: absolute;
            color: rgba(255, 105, 180, 0.4);
            animation: heartRise 15s linear infinite;
            pointer-events: none;
            opacity: 0.6;
        }

        @keyframes heartRise {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
                transform: translateY(80vh) rotate(20deg) scale(1);
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-20vh) rotate(360deg) scale(0.5);
                opacity: 0;
            }
        }

        /* Setup Modal */
        .setup-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .setup-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 30px;
            padding: 50px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow:
                0 20px 60px rgba(236, 72, 153, 0.25),
                0 0 0 1px rgba(255,255,255,0.1) inset;
            animation: setupFloat 6s ease-in-out infinite;
            overflow: hidden;
        }

        @keyframes setupFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .setup-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ec4899, #f472b6, #db2777, #ec4899);
            border-radius: 32px;
            z-index: -1;
            opacity: 0.3;
            animation: glowRotate 4s linear infinite;
            background-size: 400% 400%;
        }

        @keyframes glowRotate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Setup GIF Background */
        .setup-gif {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.3;
            border-radius: 30px;
            z-index: -1;
        }

        .setup-heart {
            width: 80px;
            height: 80px;
            margin: 0 auto 25px;
            filter: drop-shadow(0 0 20px rgba(236, 72, 153, 0.6));
            animation: heartBeat 1.2s ease-in-out infinite;
        }

        .setup-title {
            font-size: 2.2em;
            font-weight: 700;
            color: white;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(236, 72, 153, 0.4);
        }

        .setup-input {
            width: 100%;
            padding: 18px 25px;
            font-size: 1.1em;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.07);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            color: white;
            text-align: center;
            outline: none;
            transition: all 0.3s ease;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .setup-input:focus {
            border-color: #ec4899;
            background: rgba(255, 255, 255, 0.12);
            box-shadow: 0 0 25px rgba(236, 72, 153, 0.25);
        }

        .setup-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .setup-btn {
            padding: 18px 50px;
            font-size: 1.2em;
            font-family: inherit;
            font-weight: 600;
            background: linear-gradient(135deg, #ec4899, #db2777);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            box-shadow: 0 10px 30px rgba(236, 72, 153, 0.3);
        }

        .setup-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(236, 72, 153, 0.4);
        }

        .setup-note {
            margin-top: 25px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9em;
            font-style: italic;
        }

        .hidden {
            display: none;
        }

        /* Main Content */
        .main-content {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* Card */
        .card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 40px;
            padding: 60px 70px;
            text-align: center;
            max-width: 500px;
            width: 100%;
            position: relative;
            box-shadow:
                0 25px 80px rgba(236, 72, 153, 0.3),
                0 0 0 1px rgba(255,255,255,0.1) inset;
            animation: cardFloat 6s ease-in-out infinite;
            overflow: hidden;
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        /* Card Background GIF */
        .card-bg-gif {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.25;
            border-radius: 40px;
            z-index: -1;
        }

        .card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ec4899, #f472b6, #db2777, #ec4899);
            border-radius: 42px;
            z-index: -2;
            opacity: 0.5;
            animation: glowRotate 4s linear infinite;
            background-size: 400% 400%;
        }

        /* Heart Container */
        .heart-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 30px;
        }

        .main-heart {
            width: 100%;
            height: 100%;
            animation: heartBeat 1.2s ease-in-out infinite;
            filter: drop-shadow(0 0 30px rgba(236, 72, 153, 0.8));
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            15% { transform: scale(1.15); }
            30% { transform: scale(1); }
            45% { transform: scale(1.1); }
            60% { transform: scale(1); }
        }

        /* Rings around heart */
        .heart-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 2px solid rgba(244, 114, 182, 0.4);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: ringPulse 2s ease-out infinite;
        }

        .heart-ring:nth-child(2) { animation-delay: 0.4s; }
        .heart-ring:nth-child(3) { animation-delay: 0.8s; }

        @keyframes ringPulse {
            0% {
                width: 80px;
                height: 80px;
                opacity: 0.8;
            }
            100% {
                width: 180px;
                height: 180px;
                opacity: 0;
            }
        }

        h1 {
            font-size: 2.8em;
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            text-shadow: 0 0 40px rgba(236, 72, 153, 0.5);
        }

        .sender-name {
            font-size: 1.4em;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
            font-weight: 500;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1em;
            font-weight: 300;
            margin-bottom: 35px;
        }

        /* Buttons Container - Fixed for separate buttons */
        .buttons-area {
            position: relative;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            gap: 25px;
            margin-top: 20px;
            padding: 20px;
            width: 100%;
        }

        /* Yes Button Container */
        .yes-button-container {
            width: 100%;
            display: flex;
            justify-content: center;
            z-index: 2;
        }

        /* No Button Container */
        .no-button-container {
            position: relative;
            width: 100%;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }

        .btn {
            font-family: inherit;
            font-weight: 600;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        .btn-yes {
            padding: 20px 70px;
            font-size: 1.3em;
            background: linear-gradient(135deg, #ec4899, #db2777);
            color: white;
            box-shadow: 0 15px 40px rgba(236, 72, 153, 0.5);
            position: relative;
        }

        .btn-yes:hover {
            transform: scale(1.08) translateY(-3px);
            box-shadow: 0 20px 50px rgba(236, 72, 153, 0.6);
        }

        /* No Button - Moves within its container */
        .btn-no {
            padding: 15px 50px;
            font-size: 1em;
            background: rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.4);
            transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: absolute;
            backdrop-filter: blur(10px);
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        /* ============== SUCCESS SCREEN ============== */
        .success-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            background: #0a0a0a;
            overflow: hidden;
        }

        .success-screen.show {
            display: block;
            animation: successFadeIn 0.5s ease;
        }

        @keyframes successFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Success Background */
        .success-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(ellipse at 50% 50%, rgba(236, 72, 153, 0.4) 0%, transparent 60%),
                radial-gradient(ellipse at 20% 20%, rgba(244, 114, 182, 0.3) 0%, transparent 40%),
                radial-gradient(ellipse at 80% 80%, rgba(219, 39, 119, 0.3) 0%, transparent 40%);
            animation: successBgPulse 4s ease-in-out infinite;
        }

        @keyframes successBgPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        /* Success Content */
        .success-content {
            position: relative;
            z-index: 10;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        /* Couple GIF Container */
        .couple-gif-container {
            position: relative;
            width: 350px;
            height: 350px;
            margin-bottom: 30px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(236, 72, 153, 0.4);
            animation: coupleFloat 3s ease-in-out infinite;
        }

        @keyframes coupleFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .couple-gif {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 1;
        }

        .couple-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(236, 72, 153, 0.4) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            animation: coupleGlow 2s ease-in-out infinite;
            border-radius: 50%;
            z-index: -1;
        }

        @keyframes coupleGlow {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.4; }
        }

        /* Success Title */
        .success-title {
            font-size: 3em;
            font-weight: 900;
            color: white;
            margin-bottom: 20px;
            animation: titleReveal 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both;
            text-shadow: 0 0 60px rgba(236, 72, 153, 0.8);
        }

        @keyframes titleReveal {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.5);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .success-names {
            font-size: 3.5em;
            font-weight: 900;
            background: linear-gradient(135deg, #ec4899, #f472b6, #fda4af);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: nameReveal 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.6s both,
                       nameShine 3s ease-in-out infinite 1.6s;
            background-size: 200% 200%;
            margin-bottom: 30px;
        }

        @keyframes nameReveal {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes nameShine {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Sender's message container - No emoji before */
        .sender-message {
            background: rgba(236, 72, 153, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(236, 72, 153, 0.3);
            max-width: 600px;
            animation: messageReveal 1s ease 1.5s both;
            position: relative;
        }

        /* REMOVED: The ::before content with üíå emoji */
        /* .sender-message::before {
            content: 'üíå';
            position: absolute;
            top: -15px;
            left: 20px;
            font-size: 1.5em;
            background: #0a0a0a;
            padding: 0 10px;
        } */

        .sender-text {
            font-size: 1.4em;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            font-style: italic;
        }

        /* Sender signature WITH emoji */
        .sender-signature {
            font-size: 1.5em;
            color: #f472b6;
            font-weight: 600;
            margin-top: 15px;
            text-align: right;
        }

        /* Emoji in signature */
        .signature-emoji {
            margin-left: 8px;
            font-size: 1.2em;
        }

        @keyframes messageReveal {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Confetti */
        .confetti {
            position: fixed;
            top: -20px;
            pointer-events: none;
            z-index: 1001;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Firework */
        .firework {
            position: absolute;
            pointer-events: none;
        }

        .firework-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: fireworkBurst 1.5s ease-out forwards;
        }

        @keyframes fireworkBurst {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--fx), var(--fy)) scale(0);
                opacity: 0;
            }
        }

        /* Explosion Particles */
        .explosion-particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        /* Burst hearts from couple */
        .burst-heart {
            position: absolute;
            font-size: 24px;
            animation: burstHeart 2s ease-out infinite;
        }

        @keyframes burstHeart {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1);
                opacity: 0;
            }
        }

        /* Flying hearts in success */
        .flying-heart {
            position: absolute;
            pointer-events: none;
            animation: flyHeart 4s ease-out forwards;
        }

        @keyframes flyHeart {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(0) rotate(0deg);
            }
            20% {
                opacity: 1;
                transform: translate(var(--mx1), var(--my1)) scale(1) rotate(45deg);
            }
            100% {
                opacity: 0;
                transform: translate(var(--mx2), var(--my2)) scale(0.5) rotate(180deg);
            }
        }

        /* Footer */
        .footer {
            position: fixed;
            bottom: 30px;
            width: 100%;
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9em;
            z-index: 100;
        }

        /* ============== RESPONSIVE DESIGN ============== */
        @media (max-width: 768px) {
            .setup-card {
                padding: 40px 30px;
            }
            
            .setup-title {
                font-size: 1.8em;
            }
            
            .card {
                padding: 40px 30px;
                border-radius: 30px;
                margin: 0 15px;
            }
            
            h1 {
                font-size: 2.2em;
            }
            
            .sender-name {
                font-size: 1.2em;
            }
            
            .subtitle {
                font-size: 1em;
            }
            
            .heart-container {
                width: 100px;
                height: 100px;
            }
            
            .btn-yes {
                padding: 18px 50px;
                font-size: 1.2em;
            }
            
            .btn-no {
                padding: 14px 40px;
                font-size: 0.95em;
            }
            
            .buttons-area {
                min-height: 160px;
                gap: 20px;
            }
            
            .no-button-container {
                height: 90px;
            }
            
            .success-title {
                font-size: 2.5em;
            }
            
            .success-names {
                font-size: 2.8em;
            }
            
            .sender-text {
                font-size: 1.2em;
            }
            
            .sender-message {
                padding: 20px;
                margin: 20px 15px;
            }
            
            .couple-gif-container {
                width: 280px;
                height: 280px;
            }
            
            .couple-glow {
                width: 240px;
                height: 240px;
            }
        }

        @media (max-width: 480px) {
            .setup-card {
                padding: 30px 20px;
            }
            
            .setup-title {
                font-size: 1.6em;
            }
            
            .setup-input {
                padding: 14px 20px;
                font-size: 1em;
            }
            
            .setup-btn {
                padding: 16px 40px;
                font-size: 1.1em;
            }
            
            .card {
                padding: 30px 20px;
                border-radius: 25px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .sender-name {
                font-size: 1.1em;
                margin-bottom: 20px;
            }
            
            .subtitle {
                font-size: 0.9em;
                margin-bottom: 25px;
            }
            
            .heart-container {
                width: 80px;
                height: 80px;
                margin-bottom: 20px;
            }
            
            .btn-yes {
                padding: 16px 40px;
                font-size: 1.1em;
            }
            
            .btn-no {
                padding: 12px 35px;
                font-size: 0.9em;
            }
            
            .buttons-area {
                min-height: 140px;
                gap: 15px;
            }
            
            .no-button-container {
                height: 80px;
            }
            
            .success-title {
                font-size: 2em;
            }
            
            .success-names {
                font-size: 2.2em;
            }
            
            .sender-text {
                font-size: 1.1em;
            }
            
            .sender-message {
                padding: 15px;
                margin: 15px 10px;
            }
            
            .couple-gif-container {
                width: 220px;
                height: 220px;
                margin-bottom: 20px;
            }
            
            .couple-glow {
                width: 190px;
                height: 190px;
            }
        }

        @media (max-width: 350px) {
            .setup-card {
                padding: 25px 15px;
            }
            
            .setup-title {
                font-size: 1.4em;
            }
            
            .card {
                padding: 25px 15px;
            }
            
            h1 {
                font-size: 1.6em;
            }
            
            .btn-yes {
                padding: 14px 30px;
                font-size: 1em;
            }
            
            .btn-no {
                padding: 10px 25px;
                font-size: 0.85em;
            }
            
            .couple-gif-container {
                width: 200px;
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Setup Modal for Sender -->
    <div class="setup-modal" id="setupModal">
        <div class="setup-card">
            <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ2U0cGRzcnZnemxkNzZqM3dmajFiaG90NThpbjZ4aDh5dHBoN2hkMSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/wPnbkEcr2tXiTN0Lmq/giphy.gif" 
                 alt="Romantic Background" class="setup-gif">
            
            <svg class="setup-heart" viewBox="0 0 100 100">
                <defs>
                    <linearGradient id="heartGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#f472b6"/>
                        <stop offset="50%" style="stop-color:#ec4899"/>
                        <stop offset="100%" style="stop-color:#db2777"/>
                    </linearGradient>
                </defs>
                <path fill="url(#heartGrad)" d="M50 88 C20 60 5 40 5 25 C5 10 20 0 35 5 C45 8 50 18 50 18 C50 18 55 8 65 5 C80 0 95 10 95 25 C95 40 80 60 50 88Z"/>
            </svg>

            <h2 class="setup-title">Create Your Valentine Message</h2>
            
            <input type="text" class="setup-input" id="senderInput" 
                   placeholder="Your name" maxlength="20" autocomplete="off">
            
            <input type="text" class="setup-input" id="receiverInput" 
                   placeholder="Their name" maxlength="20" autocomplete="off">
            
            <button class="setup-btn" onclick="generateLoveLink()">
                Create Valentine
            </button>
            
            <div class="setup-note" id="linkMessage">
                A special link will be created for you to share
            </div>
            
            <div id="generatedLink" class="hidden">
                <input type="text" readonly class="setup-input" id="loveLink" 
                       style="background: rgba(236, 72, 153, 0.1); margin-top: 20px; font-size: 0.9em;">
                <button class="setup-btn" onclick="copyLink()" 
                        style="margin-top: 15px; background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                    Copy Link
                </button>
                <button class="setup-btn" onclick="useLink()" 
                        style="margin-top: 10px; background: linear-gradient(135deg, #ec4899, #db2777);">
                    Preview Message
                </button>
            </div>
        </div>
    </div>

    <!-- Background -->
    <div class="bg-container">
        <div class="bg-gradient"></div>
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="stars" id="stars"></div>
    </div>

    <!-- Main Content -->
    <div class="main-content hidden" id="mainContent">
        <div class="card" id="card">
            <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ2U0cGRzcnZnemxkNzZqM3dmajFiaG90NThpbjZ4aDh5dHBoN2hkMSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/wPnbkEcr2tXiTN0Lmq/giphy.gif" 
                 alt="Romantic Background" class="card-bg-gif">
            
            <div class="question-content" id="questionContent">
                <div class="heart-container">
                    <div class="heart-ring"></div>
                    <div class="heart-ring"></div>
                    <div class="heart-ring"></div>
                    <svg class="main-heart" viewBox="0 0 100 100">
                        <defs>
                            <linearGradient id="heartGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#f472b6"/>
                                <stop offset="50%" style="stop-color:#ec4899"/>
                                <stop offset="100%" style="stop-color:#db2777"/>
                            </linearGradient>
                        </defs>
                        <path fill="url(#heartGrad)" d="M50 88 C20 60 5 40 5 25 C5 10 20 0 35 5 C45 8 50 18 50 18 C50 18 55 8 65 5 C80 0 95 10 95 25 C95 40 80 60 50 88Z"/>
                    </svg>
                </div>

                <h1 id="greeting">Will You Be My Valentine?</h1>
                <p class="sender-name" id="senderDisplay">From <span id="senderNameSpan">Someone</span></p>
                <p class="subtitle" id="receiverDisplay">To: <span id="receiverNameSpan">You</span></p>

                <div class="buttons-area" id="buttonsArea">
                    <div class="yes-button-container">
                        <button class="btn btn-yes" id="yesBtn">Yes, A Thousand Times Yes!</button>
                    </div>
                    <div class="no-button-container" id="noButtonContainer">
                        <button class="btn btn-no" id="noBtn">No</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Screen -->
    <div class="success-screen" id="successScreen">
        <div class="success-bg"></div>
        
        <!-- Hidden YouTube Player for Background Music -->
        <div id="youtube-player" style="position: fixed; top: -9999px; left: -9999px;"></div>
        
        <div class="success-content">
            <div class="couple-gif-container">
                <div class="couple-glow"></div>
                <img src="https://media.giphy.com/media/IzXiddo2twMmdmU8Lv/giphy.gif" 
                     alt="Milk and Mocha Bears Hugging" class="couple-gif">
            </div>

            <h2 class="success-title" id="successTitle">Happy Valentine's Day my love, <span id="receiverNameSuccess"></span></h2>
            <p class="success-names" id="successNames"></p>
            
            <div class="sender-message" id="senderMessage">
                <div class="sender-text" id="senderText"></div>
                <div class="sender-signature" id="senderSignature"></div>
            </div>
        </div>
    </div>

    <div class="footer" id="footer">Made with ‚ù§Ô∏è for Valentine's Day</div>

    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        // YouTube Player variable
        let player;
        
        // YouTube IFrame API ready callback
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0',
                width: '0',
                videoId: 'x55A69SSvsg',
                playerVars: {
                    'autoplay': 0,
                    'controls': 0,
                    'loop': 1,
                    'playlist': 'x55A69SSvsg'
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }
        
        function onPlayerReady(event) {
            // Player is ready but won't play until sayYes() is called
        }
        
        // Check URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const receiver = urlParams.get('to');
        const sender = urlParams.get('from');

        let receiverName = '';
        let senderName = '';

        // Sender's romantic messages (using sender's name)
        const senderMessages = [
            "From the moment I saw you, I knew my search was over. You're everything I never knew I needed.",
            "Every day with you feels like a beautiful dream I never want to wake up from. You're my forever Valentine.",
            "My heart beats only for you. Thank you for making every moment magical.",
            "You're not just my Valentine, you're my always and forever. I love you more with each passing day.",
            "With you, I found a love that lights up my world. Thank you for being mine.",
            "You're the missing piece I've been searching for my whole life. I'm so grateful you're mine.",
            "Every laugh, every smile, every moment with you is a treasure. I'm the luckiest person alive.",
            "My love for you grows stronger every day. You're my greatest adventure and my safest home.",
            "You make my world brighter just by being in it. I can't imagine my life without you.",
            "You're the answer to every prayer I never said out loud. Thank you for choosing me."
        ];

        // Get random message from sender
        function getRandomSenderMessage() {
            return senderMessages[Math.floor(Math.random() * senderMessages.length)];
        }

        // Create stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 80; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.animationDuration = (2 + Math.random() * 2) + 's';
                starsContainer.appendChild(star);
            }
        }

        // Create floating hearts
        function createFloatingHearts() {
            const hearts = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíò'];
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.fontSize = (15 + Math.random() * 25) + 'px';
                    heart.style.animationDuration = (12 + Math.random() * 6) + 's';
                    document.querySelector('.bg-container').appendChild(heart);
                    setTimeout(() => heart.remove(), 20000);
                }, i * 1000);
            }
        }

        // Generate personalized link
        function generateLoveLink() {
            const sender = document.getElementById('senderInput').value.trim();
            const receiver = document.getElementById('receiverInput').value.trim();
            
            if (!sender || !receiver) {
                alert("Please enter both names");
                return;
            }
            
            // Create URL with parameters
            const baseUrl = window.location.origin + window.location.pathname;
            const loveUrl = `${baseUrl}?from=${encodeURIComponent(sender)}&to=${encodeURIComponent(receiver)}`;
            
            // Display the generated link
            document.getElementById('loveLink').value = loveUrl;
            document.getElementById('generatedLink').classList.remove('hidden');
            document.getElementById('linkMessage').textContent = "Copy and share this link with your Valentine";
            
            // Store names for later use
            senderName = sender;
            receiverName = receiver;
        }

        // Copy link to clipboard
        function copyLink() {
            const linkInput = document.getElementById('loveLink');
            linkInput.select();
            linkInput.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                const copyBtn = document.querySelector('[onclick="copyLink()"]');
                const originalText = copyBtn.textContent;
                copyBtn.textContent = '‚úì Copied!';
                
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                }, 2000);
            } catch (err) {
                alert('Could not copy link. Please copy manually.');
            }
        }

        // Use the generated link
        function useLink() {
            const sender = document.getElementById('senderInput').value.trim();
            const receiver = document.getElementById('receiverInput').value.trim();
            
            if (!sender || !receiver) {
                alert("Please enter both names");
                return;
            }
            
            // Start the experience with these names
            startExperience(sender, receiver);
        }

        // Start the experience with names
        function startExperience(sender, receiver) {
            senderName = sender;
            receiverName = receiver;
            
            // Update display
            document.getElementById('senderNameSpan').textContent = senderName;
            document.getElementById('receiverNameSpan').textContent = receiverName;
            document.getElementById('greeting').textContent = `Will You Be My Valentine, ${receiverName}?`;
            
            // Success screen names
            document.getElementById('receiverNameSuccess').textContent = receiverName;
            document.getElementById('successNames').textContent = `${senderName} ‚ù§Ô∏è ${receiverName}`;
            
            // Sender's personalized message (without emoji in message)
            document.getElementById('senderText').textContent = getRandomSenderMessage();
            // Signature WITH emoji
            document.getElementById('senderSignature').innerHTML = `- ${senderName} <span class="signature-emoji">üíï</span>`;
            
            // Hide setup, show main content
            document.getElementById('setupModal').style.display = 'none';
            document.getElementById('mainContent').classList.remove('hidden');
            document.getElementById('footer').textContent = `Message from ${senderName} to ${receiverName}`;
            
            // Start animations
            createStars();
            createFloatingHearts();
            setInterval(createFloatingHearts, 15000);
            
            // Initialize the No button
            initNoButton();
            
            // Add Yes button event listener
            document.getElementById('yesBtn').addEventListener('click', sayYes);
        }

        // Initialize No button - Simple moving button like in the example website
        let noButtonMoveCount = 0;
        
        function initNoButton() {
            const noBtn = document.getElementById('noBtn');
            const noButtonContainer = document.getElementById('noButtonContainer');
            
            // Prevent the No button from being clicked - only move it
            noBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                moveNoButton();
            });
            
            // Add event listeners for movement
            noBtn.addEventListener('mouseenter', moveNoButton);
            noBtn.addEventListener('touchstart', (e) => {
                e.preventDefault();
                moveNoButton();
            });
            
            // Also move when mouse gets close
            noButtonContainer.addEventListener('mousemove', (e) => {
                if (noButtonMoveCount >= 5) return;
                
                const btnRect = noBtn.getBoundingClientRect();
                const distance = Math.sqrt(
                    Math.pow(e.clientX - (btnRect.left + btnRect.width/2), 2) +
                    Math.pow(e.clientY - (btnRect.top + btnRect.height/2), 2)
                );
                
                if (distance < 80 && Math.random() > 0.7) {
                    moveNoButton();
                }
            });
        }

        // ============== NO BUTTON MOVEMENT ==============
        function moveNoButton() {
            if (noButtonMoveCount >= 5) {
                // After 5 tries, remove the button
                document.getElementById('noBtn').style.display = 'none';
                document.getElementById('noButtonContainer').innerHTML =
                     '<div style="color: rgba(255,255,255,0.6); font-style: italic;">The "Yes" button looks much better! üòâ</div>';
                return;
            }
                     
            const button = document.getElementById('noBtn');
            const container = document.getElementById('noButtonContainer');
                     
            // Get container dimensions
            const containerRect = container.getBoundingClientRect();
            const containerWidth = containerRect.width;
            const containerHeight = containerRect.height;
                     
            // Get button dimensions
            const buttonRect = button.getBoundingClientRect();
            const buttonWidth = buttonRect.width;
            const buttonHeight = buttonRect.height;
                     
            // Calculate maximum movement range
            const maxX = (containerWidth - buttonWidth) / 2;
            const maxY = (containerHeight - buttonHeight) / 2;
                     
            // Generate random position within container
            const randomX = (Math.random() - 0.5) * 2 * maxX;
            const randomY = (Math.random() - 0.5) * 2 * maxY;
                     
            // Apply movement with animation
            button.style.transform = `translate(calc(-50% + ${randomX}px), calc(-50% + ${randomY}px))`;
            button.style.transition = 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)';
                     
            // Change button text occasionally
            if (Math.random() > 0.7) {
                const funnyTexts = [
                    "Are you sure?",
                    "Try again!",
                    "Not so fast!",
                    "Think about it!",
                    "Maybe click Yes?",
                    "Oops! Wrong button!"
                ];
                button.textContent = funnyTexts[Math.floor(Math.random() * funnyTexts.length)];
            }
                     
            noButtonMoveCount++;
                     
            // Create a little sparkle effect
            createSparkle(buttonRect.left + buttonWidth/2, buttonRect.top + buttonHeight/2);
        }
        
        // Create sparkle effect
        function createSparkle(x, y) {
            const colors = ['#ec4899', '#f472b6', '#fda4af', '#fbbf24', '#a855f7'];
            
            for (let i = 0; i < 8; i++) {
                const sparkle = document.createElement('div');
                sparkle.style.position = 'fixed';
                sparkle.style.left = x + 'px';
                sparkle.style.top = y + 'px';
                sparkle.style.width = '6px';
                sparkle.style.height = '6px';
                sparkle.style.borderRadius = '50%';
                sparkle.style.background = colors[Math.floor(Math.random() * colors.length)];
                sparkle.style.pointerEvents = 'none';
                sparkle.style.zIndex = '9999';
                
                const angle = (i / 8) * Math.PI * 2;
                const distance = 30 + Math.random() * 20;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                sparkle.style.animation = 'sparkleOut 0.6s ease-out forwards';
                sparkle.style.setProperty('--sparkle-x', tx + 'px');
                sparkle.style.setProperty('--sparkle-y', ty + 'px');
                
                document.body.appendChild(sparkle);
                setTimeout(() => sparkle.remove(), 600);
            }
            
            // Add sparkle animation if not exists
            if (!document.getElementById('sparkleKeyframes')) {
                const style = document.createElement('style');
                style.id = 'sparkleKeyframes';
                style.textContent = `
                    @keyframes sparkleOut {
                        0% { transform: translate(0, 0) scale(1); opacity: 1; }
                        100% { transform: translate(var(--sparkle-x), var(--sparkle-y)) scale(0); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Check if URL has parameters on load
        window.onload = function() {
            createStars();
            
            // Preload GIFs
            const setupGif = new Image();
            setupGif.src = 'https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ2U0cGRzcnZnemxkNzZqM3dmajFiaG90NThpbjZ4aDh5dHBoN2hkMSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/wPnbkEcr2tXiTN0Lmq/giphy.gif';
            
            const coupleGif = new Image();
            coupleGif.src = 'https://media.giphy.com/media/IzXiddo2twMmdmU8Lv/giphy.gif';
            
            // Check if URL has parameters - if yes, go directly to the message
            if (receiver && sender) {
                // Direct link with parameters - start experience immediately
                startExperience(sender, receiver);
            } else {
                // No parameters - show setup modal
                document.getElementById('setupModal').style.display = 'flex';
                document.getElementById('senderInput').focus();
                
                // Add Enter key support
                document.getElementById('senderInput').addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        document.getElementById('receiverInput').focus();
                    }
                });
                
                document.getElementById('receiverInput').addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        generateLoveLink();
                    }
                });
            }
        }

        // Say Yes function
        function sayYes() {
            const successScreen = document.getElementById('successScreen');
            const mainContent = document.getElementById('mainContent');
            
            mainContent.style.display = 'none';
            successScreen.classList.add('show');

            // Play YouTube video as background music
            if (player && player.playVideo) {
                player.playVideo();
            }

            // Create celebration effects
            setTimeout(() => {
                createExplosion();
                createBurstHearts();
                createConfetti();
                createFireworks();
                createFlyingHearts();
            }, 300);
        }

        // Explosion particles
        function createExplosion() {
            const colors = ['#ec4899', '#f472b6', '#fda4af', '#fbcfe8', '#fbbf24', '#a855f7'];
            const container = document.querySelector('.success-content');

            for (let i = 0; i < 60; i++) {
                const particle = document.createElement('div');
                particle.className = 'explosion-particle';
                particle.style.left = '50%';
                particle.style.top = '40%';
                particle.style.width = (5 + Math.random() * 12) + 'px';
                particle.style.height = particle.style.width;
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];

                const angle = (i / 60) * Math.PI * 2;
                const distance = 100 + Math.random() * 200;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;

                particle.style.animation = `explode 1.5s ease-out forwards`;
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');

                container.appendChild(particle);
                setTimeout(() => particle.remove(), 1500);
            }

            // Add keyframes dynamically
            if (!document.getElementById('explodeKeyframes')) {
                const style = document.createElement('style');
                style.id = 'explodeKeyframes';
                style.textContent = `
                    @keyframes explode {
                        0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                        100% { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Burst hearts from couple
        function createBurstHearts() {
            const container = document.querySelector('.couple-gif-container');
            const hearts = ['üíï', 'üíñ', 'üíó', '‚ù§Ô∏è'];

            setInterval(() => {
                for (let i = 0; i < 5; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'burst-heart';
                    heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = '50%';
                    heart.style.top = '50%';
                    heart.style.setProperty('--tx', (Math.random() - 0.5) * 200 + 'px');
                    heart.style.setProperty('--ty', -50 - Math.random() * 120 + 'px');
                    heart.style.animationDelay = (i * 0.15) + 's';
                    container.appendChild(heart);
                    setTimeout(() => heart.remove(), 2000);
                }
            }, 700);
        }

        // Confetti
        function createConfetti() {
            const colors = ['#ec4899', '#f472b6', '#fda4af', '#fbbf24', '#a855f7', '#34d399', '#60a5fa'];
            const shapes = ['‚ù§Ô∏è', '‚òÖ', '‚óè', '‚ñ†'];

            for (let i = 0; i < 120; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.innerHTML = shapes[Math.floor(Math.random() * shapes.length)];
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.color = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.fontSize = (10 + Math.random() * 20) + 'px';
                    confetti.style.animation = `confettiFall ${3 + Math.random() * 2}s linear forwards`;
                    confetti.style.animationDelay = Math.random() + 's';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 25);
            }
        }

        // Fireworks
        function createFireworks() {
            const colors = ['#ec4899', '#fbbf24', '#a855f7', '#34d399', '#f472b6'];

            function launchFirework() {
                const x = 10 + Math.random() * 80;
                const y = 10 + Math.random() * 40;
                const color = colors[Math.floor(Math.random() * colors.length)];

                const container = document.createElement('div');
                container.className = 'firework';
                container.style.left = x + 'vw';
                container.style.top = y + 'vh';

                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'firework-particle';
                    particle.style.background = color;

                    const angle = (i / 30) * Math.PI * 2;
                    const distance = 60 + Math.random() * 100;
                    particle.style.setProperty('--fx', Math.cos(angle) * distance + 'px');
                    particle.style.setProperty('--fy', Math.sin(angle) * distance + 'px');

                    container.appendChild(particle);
                }

                document.querySelector('.success-screen').appendChild(container);
                setTimeout(() => container.remove(), 1500);
            }

            // Launch fireworks repeatedly
            for (let i = 0; i < 15; i++) {
                setTimeout(launchFirework, i * 300);
            }
            setInterval(() => {
                for (let i = 0; i < 5; i++) {
                    setTimeout(launchFirework, i * 200);
                }
            }, 1800);
        }

        // Flying hearts across screen
        function createFlyingHearts() {
            const hearts = ['üíï', 'üíñ', 'üíó', '‚ù§Ô∏è', 'üíò'];
            const container = document.querySelector('.success-screen');

            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'flying-heart';
                heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.fontSize = (25 + Math.random() * 40) + 'px';
                heart.style.color = `hsl(${330 + Math.random() * 30}, 80%, 60%)`;

                const startX = Math.random() * 100;
                const startY = 100 + Math.random() * 20;
                heart.style.left = startX + 'vw';
                heart.style.top = startY + 'vh';

                heart.style.setProperty('--mx1', (Math.random() - 0.5) * 250 + 'px');
                heart.style.setProperty('--my1', -200 - Math.random() * 120 + 'px');
                heart.style.setProperty('--mx2', (Math.random() - 0.5) * 450 + 'px');
                heart.style.setProperty('--my2', -550 - Math.random() * 250 + 'px');

                container.appendChild(heart);
                setTimeout(() => heart.remove(), 4000);
            }, 150);
        }

        // Prevent zoom on mobile
        document.addEventListener('touchstart', function(e) {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });

        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
